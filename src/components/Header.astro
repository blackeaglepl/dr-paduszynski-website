---
import { getLocaleFromUrl } from "../utils/i18n";
import { getTranslations, getLocalizedPath, type Locale } from "../utils/i18n";
import LanguageSwitcher from "./LanguageSwitcher.astro";
import HamburgerMenu from "./HamburgerMenu.astro";
import logo from '../assets/logo_osteopatia.svg';

const currentLocale = getLocaleFromUrl(Astro.url) as Locale;
const t = getTranslations(currentLocale);
---

<header class="w-full py-4 md:py-6">
  <div class="medical-container flex items-center justify-between">
    <a href="/" class="inline-flex items-center gap-2" aria-label="Przejdź do strony głównej">
      <img src={logo.src} alt="Dr Jarema Paduszyński – Osteopata" class="h-10 md:h-12 rounded-none" />
    </a>

    <nav class="hidden md:flex items-center gap-8 lg:gap-12 xl:gap-16 2xl:gap-20 bg-medical-cream/80 backdrop-blur-sm rounded-full px-8 lg:px-12 xl:px-16 py-3 font-heading shadow-sm">
      <a href={getLocalizedPath("/", currentLocale)} class="text-medical-text text-sm md:text-base font-medium hover:text-medical-primary focus:outline-none focus:ring-2 focus:ring-medical-primary/50 rounded-full px-4 py-1.5">{t.navigation.about}</a>
      <a href={getLocalizedPath("/cennik/", currentLocale)} class="text-medical-text text-sm md:text-base font-medium hover:text-medical-primary focus:outline-none focus:ring-2 focus:ring-medical-primary/50 rounded-full px-4 py-1.5">{t.navigation.pricing}</a>
      {currentLocale === 'pl' && (
        <a href={getLocalizedPath("/blog/", currentLocale)} class="text-medical-text text-sm md:text-base font-medium hover:text-medical-primary focus:outline-none focus:ring-2 focus:ring-medical-primary/50 rounded-full px-4 py-1.5">{t.navigation.blog}</a>
      )}
      <a href={getLocalizedPath("/kontakt/", currentLocale)} class="text-medical-text text-sm md:text-base font-medium hover:text-medical-primary focus:outline-none focus:ring-2 focus:ring-medical-primary/50 rounded-full px-4 py-1.5">{t.navigation.contact}</a>
      <!-- Przełącznik języka w nawigacji -->
      <div class="border-l border-medical-text/20 pl-4">
        <LanguageSwitcher />
      </div>
    </nav>

    <!-- Menu hamburger dla mobile -->
    <HamburgerMenu />
  </div>
</header>



